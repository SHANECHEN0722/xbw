<!doctype html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="color-scheme" content="dark light" />
    <title>2026 · 肖博雯祝大家新年快乐</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Cinzel+Decorative:wght@700;900&family=Noto+Serif+SC:wght@700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="./styles.css" />
  </head>
  <body>
    <div class="bg" aria-hidden="true">
      <div class="glow g1"></div>
      <div class="glow g2"></div>
      <div class="grid"></div>
      <div class="moon"></div>
    </div>

    <div class="controls" role="group" aria-label="页面控制">
      <button id="btnUi" class="btn btnGhost btnTiny" type="button" aria-expanded="true">面板</button>
    </div>

    <main class="wrap">
      <div class="stage" aria-label="照片展示">
          <div class="polaroid" id="polaroid">
          <div class="polaroidFrame">
            <img id="photoPreview" class="polaroidImg show" src="./img/image.png" alt="你的照片预览" />
            <div id="photoPlaceholder" class="polaroidPlaceholder">点击上传替换照片</div>
          </div>
          <div class="polaroidBar">
            <div class="polaroidCaption">2026 · New Year</div>
            <div class="polaroidBtns">
              <button id="btnPhoto" class="btn btnGhost btnTiny btnUpload" type="button">
                上传<br />照片
              </button>
              <button id="btnPhotoClear" class="btn btnGhost btnTiny" type="button" disabled>清除</button>
              <input id="photoInput" type="file" accept="image/*" hidden />
            </div>
          </div>
        </div>
      </div>
      <div class="center-stage" aria-hidden="true">
        <h1 class="luxury-text" data-text="2026">2026</h1>
        <div class="greeting-box">
          <p class="en-sub">HAPPY NEW YEAR</p>
          <p class="cn-wish">
            肖博雯祝您在新的一年<br />
            所求皆如愿，所行化坦途<br />
            岁岁常欢愉，年年皆胜意
          </p>
        </div>
      </div>
      <section class="hero">
        <div class="heroLeft">
          <div class="panel panelDock">
            <div class="panelHeader">
              <div class="panelTitle">祝福卡片</div>
              <div class="panelHint">点击“抽一张”或点击卡片复制</div>
            </div>
            <div class="card" id="blessingCard" role="group" aria-label="祝福卡片">
              <div class="cardInner">
                <div class="cardMain" id="blessingText"></div>
                <div class="cardMeta">
                  <span class="metaLabel">From</span>
                  <span class="metaValue">肖博雯 · 2026</span>
                </div>
              </div>
            </div>
            <div class="actions">
              <button id="btnDraw" class="btn btnPrimary" type="button">抽一张</button>
              <button id="btnFireworks" class="btn btnSecondary" type="button">放烟花</button>
              <button id="btnHeart" class="btn btnSecondary" type="button">心形烟花</button>
            </div>
            <div class="wishRow">
              <input
                id="wishInput"
                class="wishInput"
                type="text"
                inputmode="text"
                maxlength="28"
                placeholder="写一句祝福，送上天空…"
                aria-label="写一句祝福"
              />
              <button id="btnSendWish" class="btn btnGhost" type="button">送上天空</button>
            </div>

            <div class="customBox" role="group" aria-label="自定义烟花">
              <div class="customHeader">
                <div class="customTitle">自定义烟花</div>
                <label class="customToggle">
                  <input id="autoCustom" type="checkbox" checked />
                  <span>自动加入表演</span>
                </label>
              </div>
              <div class="customRow">
                <input
                  id="customText"
                  class="wishInput"
                  type="text"
                  inputmode="text"
                  maxlength="18"
                  placeholder="输入短文字：2026 / 新年快乐 / 肖博雯祝您新年快乐…"
                  aria-label="自定义文字"
                />
                <button id="btnTextFirework" class="btn btnSecondary" type="button">文字烟花</button>
              </div>
              <div class="customRow">
                <input id="imageInput" class="fileInput" type="file" accept="image/*" aria-label="上传图片做烟花" />
                <button id="btnImageFirework" class="btn btnSecondary" type="button" disabled>图片烟花</button>
              </div>
              <div class="customHint">图片会转成粒子形状；尽量选择黑白对比明显的图更清晰。</div>
            </div>
          </div>
        </div>

      </section>
    </main>

    <canvas id="fx" class="fx" aria-hidden="true"></canvas>
    <div id="danmuLayer" class="danmuLayer" aria-hidden="true"></div>
    <div id="toast" class="toast" role="status" aria-live="polite"></div>
    <div class="wsqCorner" title="乌萨奇">
      <div class="wsqFloat">
        <img class="wsqImg" src="./img/wsq.png" alt="乌萨奇" decoding="async" />
      </div>
    </div>

    <svg class="svgDefs" width="0" height="0" aria-hidden="true" focusable="false">
      <filter id="paint" x="-80%" y="-80%" width="260%" height="260%">
        <feTurbulence type="turbulence" baseFrequency="0.012 0.45" numOctaves="3" seed="7" result="noise1" />
        <feTurbulence type="fractalNoise" baseFrequency="0.9" numOctaves="1" seed="11" result="noise2" />
        <feComposite in="noise1" in2="noise2" operator="arithmetic" k1="0" k2="0.85" k3="0.25" k4="0" result="noise" />
        <feDisplacementMap in="SourceGraphic" in2="noise" scale="22" xChannelSelector="R" yChannelSelector="G" result="disp" />
        <feMerge>
          <feMergeNode in="SourceGraphic" />
          <feMergeNode in="disp" />
        </feMerge>
      </filter>
    </svg>

    <script src="./app.js" defer></script>
  </body>
</html>
