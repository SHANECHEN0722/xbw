<!doctype html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="color-scheme" content="dark light" />
    <title>2026 · 陈贤祝大家新年快乐</title>
    <link rel="stylesheet" href="./styles.css" />
  </head>
  <body>
    <div class="bg" aria-hidden="true">
      <div class="glow g1"></div>
      <div class="glow g2"></div>
      <div class="grid"></div>
    </div>

    <header class="topbar">
      <div class="brand">
        <span class="chip">2026</span>
        <span class="brandText">陈贤祝大家新年快乐</span>
      </div>
      <div class="topActions">
        <button id="btnReduceMotion" class="btn btnGhost" type="button" aria-pressed="false">
          减少动画
        </button>
        <button id="btnShare" class="btn btnGhost" type="button">复制祝福</button>
      </div>
    </header>

    <main class="wrap">
      <section class="hero">
        <div class="heroLeft">
          <h1 class="title">
            <span class="year">2026</span>
            <span class="titleLine">新年快乐</span>
          </h1>
          <p class="subtitle">
            陈贤送上祝福：愿你新的一年，心想事成，平安喜乐。
          </p>

          <div class="panel">
            <div class="panelHeader">
              <div class="panelTitle">祝福卡片</div>
              <div class="panelHint">点击“抽一张”或点击卡片复制</div>
            </div>
            <div class="card" id="blessingCard" role="group" aria-label="祝福卡片">
              <div class="cardInner">
                <div class="cardMain" id="blessingText"></div>
                <div class="cardMeta">
                  <span class="metaLabel">From</span>
                  <span class="metaValue">陈贤 · 2026</span>
                </div>
              </div>
            </div>
            <div class="actions">
              <button id="btnDraw" class="btn btnPrimary" type="button">抽一张</button>
              <button id="btnFireworks" class="btn btnSecondary" type="button">放烟花</button>
              <button id="btnHeart" class="btn btnSecondary" type="button">心形烟花</button>
            </div>
            <div class="wishRow">
              <input
                id="wishInput"
                class="wishInput"
                type="text"
                inputmode="text"
                maxlength="28"
                placeholder="写一句祝福，送上天空…"
                aria-label="写一句祝福"
              />
              <button id="btnSendWish" class="btn btnGhost" type="button">送上天空</button>
            </div>

            <div class="customBox" role="group" aria-label="自定义烟花">
              <div class="customHeader">
                <div class="customTitle">自定义烟花</div>
                <label class="customToggle">
                  <input id="autoCustom" type="checkbox" checked />
                  <span>自动加入表演</span>
                </label>
              </div>
              <div class="customRow">
                <input
                  id="customText"
                  class="wishInput"
                  type="text"
                  inputmode="text"
                  maxlength="18"
                  placeholder="输入短文字：2026 / 新年快乐 / 陈贤…"
                  aria-label="自定义文字"
                />
                <button id="btnTextFirework" class="btn btnSecondary" type="button">文字烟花</button>
              </div>
              <div class="customRow">
                <input id="imageInput" class="fileInput" type="file" accept="image/*" aria-label="上传图片做烟花" />
                <button id="btnImageFirework" class="btn btnSecondary" type="button" disabled>图片烟花</button>
              </div>
              <div class="customHint">图片会转成粒子形状；尽量选择黑白对比明显的图更清晰。</div>
            </div>
          </div>
        </div>

      </section>
    </main>

    <div class="scene" aria-hidden="true">
      <svg viewBox="0 0 1200 240" xmlns="http://www.w3.org/2000/svg">
        <defs>
          <linearGradient id="ground" x1="0" y1="0" x2="0" y2="1">
            <stop offset="0" stop-color="rgba(255,255,255,.14)" />
            <stop offset="1" stop-color="rgba(255,255,255,0)" />
          </linearGradient>
          <linearGradient id="fur2" x1="0" y1="0" x2="1" y2="1">
            <stop offset="0" stop-color="#fff7ff" />
            <stop offset="1" stop-color="#ffe6f3" />
          </linearGradient>
          <linearGradient id="ear2" x1="0" y1="0" x2="0" y2="1">
            <stop offset="0" stop-color="#ffd2ea" />
            <stop offset="1" stop-color="#ffb7db" />
          </linearGradient>
          <filter id="soft" x="-20%" y="-20%" width="140%" height="140%">
            <feDropShadow dx="0" dy="10" stdDeviation="10" flood-color="#000" flood-opacity=".35" />
          </filter>
        </defs>

        <path d="M0 170 C240 130, 420 210, 610 170 C780 135, 960 210, 1200 165 L1200 240 L0 240 Z" fill="rgba(0,0,0,.24)" />
        <path d="M0 168 C240 128, 420 208, 610 168 C780 133, 960 208, 1200 163" fill="none" stroke="url(#ground)" stroke-width="2" opacity=".7" />

        <g opacity=".92" filter="url(#soft)">
          <g transform="translate(210 92)">
            <path d="M40 28 C20 5, 42 -6, 60 8 C68 15, 72 26, 70 40" fill="url(#fur2)" />
            <path d="M120 28 C140 5, 118 -6, 100 8 C92 15, 88 26, 90 40" fill="url(#fur2)" />
            <path d="M50 26 C38 10, 50 1, 60 12 C65 17, 66 25, 63 33" fill="url(#ear2)" />
            <path d="M110 26 C122 10, 110 1, 100 12 C95 17, 94 25, 97 33" fill="url(#ear2)" />
            <circle cx="80" cy="88" r="56" fill="url(#fur2)" />
            <circle cx="62" cy="84" r="6" fill="#231f20" />
            <circle cx="98" cy="84" r="6" fill="#231f20" />
            <path d="M80 92 C76 92, 74 96, 80 98 C86 96, 84 92, 80 92 Z" fill="#ff79b0" />
            <path d="M70 112 C74 122, 86 122, 90 112" fill="none" stroke="#231f20" stroke-width="4" stroke-linecap="round" />
          </g>

          <g transform="translate(520 108) scale(1.05)">
            <path d="M42 26 C20 4, 44 -6, 62 8 C70 15, 74 26, 72 40" fill="url(#fur2)" />
            <path d="M126 26 C148 4, 124 -6, 106 8 C98 15, 94 26, 96 40" fill="url(#fur2)" />
            <path d="M52 24 C40 10, 52 1, 62 12 C67 17, 68 25, 65 33" fill="url(#ear2)" />
            <path d="M116 24 C128 10, 116 1, 106 12 C101 17, 100 25, 103 33" fill="url(#ear2)" />
            <circle cx="84" cy="88" r="58" fill="url(#fur2)" />
            <circle cx="66" cy="84" r="6" fill="#231f20" />
            <circle cx="102" cy="84" r="6" fill="#231f20" />
            <circle cx="58" cy="106" r="10" fill="#ff79b0" opacity=".25" />
            <circle cx="110" cy="106" r="10" fill="#ff79b0" opacity=".25" />
            <path d="M84 92 C80 92, 78 96, 84 98 C90 96, 88 92, 84 92 Z" fill="#ff79b0" />
            <path d="M72 112 C76 122, 92 122, 96 112" fill="none" stroke="#231f20" stroke-width="4" stroke-linecap="round" />
          </g>

          <g transform="translate(850 96) scale(.98)">
            <path d="M40 28 C20 5, 42 -6, 60 8 C68 15, 72 26, 70 40" fill="url(#fur2)" />
            <path d="M120 28 C140 5, 118 -6, 100 8 C92 15, 88 26, 90 40" fill="url(#fur2)" />
            <path d="M50 26 C38 10, 50 1, 60 12 C65 17, 66 25, 63 33" fill="url(#ear2)" />
            <path d="M110 26 C122 10, 110 1, 100 12 C95 17, 94 25, 97 33" fill="url(#ear2)" />
            <circle cx="80" cy="88" r="56" fill="url(#fur2)" />
            <path d="M58 84 C66 78, 72 78, 76 84" fill="none" stroke="#231f20" stroke-width="4" stroke-linecap="round" />
            <path d="M104 84 C98 78, 92 78, 88 84" fill="none" stroke="#231f20" stroke-width="4" stroke-linecap="round" />
            <path d="M80 92 C76 92, 74 96, 80 98 C86 96, 84 92, 80 92 Z" fill="#ff79b0" />
            <path d="M70 114 C76 122, 84 122, 90 114" fill="none" stroke="#231f20" stroke-width="4" stroke-linecap="round" />
          </g>
        </g>

        <text x="50%" y="72" text-anchor="middle" font-size="38" font-weight="900" fill="rgba(255,255,255,.14)">
          新年快乐
        </text>
      </svg>
    </div>

    <canvas id="fx" class="fx" aria-hidden="true"></canvas>
    <div id="danmuLayer" class="danmuLayer" aria-hidden="true"></div>
    <div id="toast" class="toast" role="status" aria-live="polite"></div>

    <script src="./app.js" defer></script>
  </body>
</html>
