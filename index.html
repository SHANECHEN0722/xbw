<!doctype html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="color-scheme" content="dark light" />
    <title>2026 · 陈贤祝大家新年快乐</title>
    <link rel="stylesheet" href="./styles.css" />
  </head>
  <body>
    <div class="bg" aria-hidden="true">
      <div class="glow g1"></div>
      <div class="glow g2"></div>
      <div class="grid"></div>
    </div>

    <header class="topbar">
      <div class="brand">
        <span class="chip">2026</span>
        <div class="brandStack">
          <div class="brandTitle">新年快乐</div>
          <div class="brandSub">陈贤送上祝福：愿你新的一年，心想事成，平安喜乐。</div>
        </div>
      </div>
      <div class="topActions">
        <button id="btnReduceMotion" class="btn btnGhost" type="button" aria-pressed="false">
          减少动画
        </button>
        <button id="btnShare" class="btn btnGhost" type="button">复制祝福</button>
      </div>
    </header>

    <main class="wrap">
      <div class="stage" aria-label="照片展示">
          <div class="polaroid" id="polaroid">
          <div class="polaroidFrame">
            <img id="photoPreview" class="polaroidImg show" src="./img/image.png" alt="你的照片预览" />
            <div id="photoPlaceholder" class="polaroidPlaceholder">点击上传替换照片</div>
          </div>
          <div class="polaroidBar">
            <div class="polaroidCaption">2026 · New Year</div>
            <div class="polaroidBtns">
              <button id="btnPhoto" class="btn btnGhost btnTiny" type="button">上传照片</button>
              <button id="btnPhotoClear" class="btn btnGhost btnTiny" type="button" disabled>清除</button>
              <input id="photoInput" type="file" accept="image/*" hidden />
            </div>
          </div>
        </div>
      </div>
      <section class="hero">
        <div class="heroLeft">
          <div class="panel panelDock">
            <div class="panelHeader">
              <div class="panelTitle">祝福卡片</div>
              <div class="panelHint">点击“抽一张”或点击卡片复制</div>
            </div>
            <div class="card" id="blessingCard" role="group" aria-label="祝福卡片">
              <div class="cardInner">
                <div class="cardMain" id="blessingText"></div>
                <div class="cardMeta">
                  <span class="metaLabel">From</span>
                  <span class="metaValue">陈贤 · 2026</span>
                </div>
              </div>
            </div>
            <div class="actions">
              <button id="btnDraw" class="btn btnPrimary" type="button">抽一张</button>
              <button id="btnFireworks" class="btn btnSecondary" type="button">放烟花</button>
              <button id="btnHeart" class="btn btnSecondary" type="button">心形烟花</button>
            </div>
            <div class="wishRow">
              <input
                id="wishInput"
                class="wishInput"
                type="text"
                inputmode="text"
                maxlength="28"
                placeholder="写一句祝福，送上天空…"
                aria-label="写一句祝福"
              />
              <button id="btnSendWish" class="btn btnGhost" type="button">送上天空</button>
            </div>

            <div class="customBox" role="group" aria-label="自定义烟花">
              <div class="customHeader">
                <div class="customTitle">自定义烟花</div>
                <label class="customToggle">
                  <input id="autoCustom" type="checkbox" checked />
                  <span>自动加入表演</span>
                </label>
              </div>
              <div class="customRow">
                <input
                  id="customText"
                  class="wishInput"
                  type="text"
                  inputmode="text"
                  maxlength="18"
                  placeholder="输入短文字：2026 / 新年快乐 / 陈贤祝您新年快乐…"
                  aria-label="自定义文字"
                />
                <button id="btnTextFirework" class="btn btnSecondary" type="button">文字烟花</button>
              </div>
              <div class="customRow">
                <input id="imageInput" class="fileInput" type="file" accept="image/*" aria-label="上传图片做烟花" />
                <button id="btnImageFirework" class="btn btnSecondary" type="button" disabled>图片烟花</button>
              </div>
              <div class="customHint">图片会转成粒子形状；尽量选择黑白对比明显的图更清晰。</div>
            </div>
          </div>
        </div>

      </section>
    </main>

    <div class="scene" aria-hidden="true">
      <svg viewBox="0 0 1200 240" xmlns="http://www.w3.org/2000/svg">
        <defs>
          <linearGradient id="hillFill" x1="0" y1="0" x2="0" y2="1">
            <stop offset="0" stop-color="rgba(255,255,255,.10)" />
            <stop offset="1" stop-color="rgba(0,0,0,.22)" />
          </linearGradient>
          <linearGradient id="hillRim" x1="0" y1="0" x2="0" y2="1">
            <stop offset="0" stop-color="rgba(255,255,255,.18)" />
            <stop offset="1" stop-color="rgba(255,255,255,0)" />
          </linearGradient>
          <linearGradient id="fur2" x1="0" y1="0" x2="1" y2="1">
            <stop offset="0" stop-color="#fff7ff" />
            <stop offset="1" stop-color="#ffe6f3" />
          </linearGradient>
          <linearGradient id="ear2" x1="0" y1="0" x2="0" y2="1">
            <stop offset="0" stop-color="#ffd2ea" />
            <stop offset="1" stop-color="#ffb7db" />
          </linearGradient>
          <linearGradient id="scarf" x1="0" y1="0" x2="1" y2="1">
            <stop offset="0" stop-color="rgba(110,231,255,.95)" />
            <stop offset="1" stop-color="rgba(255,77,166,.90)" />
          </linearGradient>
          <filter id="soft" x="-20%" y="-20%" width="140%" height="140%">
            <feDropShadow dx="0" dy="10" stdDeviation="10" flood-color="#000" flood-opacity=".35" />
          </filter>
        </defs>

        <!-- Cozy hillside -->
        <path
          d="M0 176 C180 128, 330 212, 520 178 C690 148, 840 218, 1040 172 C1120 152, 1170 146, 1200 150 L1200 240 L0 240 Z"
          fill="url(#hillFill)"
          opacity=".92"
        />
        <path
          d="M0 174 C180 126, 330 210, 520 176 C690 146, 840 216, 1040 170 C1120 150, 1170 144, 1200 148"
          fill="none"
          stroke="url(#hillRim)"
          stroke-width="2.2"
          opacity=".7"
        />

        <!-- Bunnies (simple, Usagi-style vibe) -->
        <g filter="url(#soft)" opacity=".90">
          <!-- Helper: a bunny head+body group (eyes as circles / lines) -->

          <!-- Left: two bunnies leaning together -->
          <g transform="translate(220 128) scale(.92)">
            <g class="bunnyFloat">
              <!-- Bunny A -->
              <g transform="translate(0 0)">
                <g class="bunnyBreathe">
                  <path d="M34 22 C16 4, 34 -6, 50 6 C57 12, 60 20, 58 32" fill="url(#fur2)" />
                  <path d="M92 22 C110 4, 92 -6, 76 6 C69 12, 66 20, 68 32" fill="url(#fur2)" />
                  <path d="M40 20 C30 8, 40 2, 48 10 C52 14, 53 20, 51 26" fill="url(#ear2)" opacity=".95" />
                  <path d="M86 20 C96 8, 86 2, 78 10 C74 14, 73 20, 75 26" fill="url(#ear2)" opacity=".95" />
                  <ellipse cx="63" cy="86" rx="44" ry="34" fill="url(#fur2)" />
                  <circle cx="63" cy="58" r="34" fill="url(#fur2)" />
                  <circle class="blink" cx="52" cy="56" r="5.5" fill="#231f20" />
                  <circle class="blink" cx="74" cy="56" r="5.5" fill="#231f20" />
                  <path d="M63 62 C60 62, 58 65, 63 67 C68 65, 66 62, 63 62 Z" fill="#ff79b0" />
                  <path d="M56 74 C58 82, 68 82, 70 74" fill="none" stroke="#231f20" stroke-width="3.6" stroke-linecap="round" />
                </g>
              </g>

              <!-- Bunny B (leans) -->
              <g transform="translate(78 18) rotate(8)">
                <g class="bunnyBreathe">
                  <path d="M34 22 C16 4, 34 -6, 50 6 C57 12, 60 20, 58 32" fill="url(#fur2)" />
                  <path d="M92 22 C110 4, 92 -6, 76 6 C69 12, 66 20, 68 32" fill="url(#fur2)" />
                  <path d="M40 20 C30 8, 40 2, 48 10 C52 14, 53 20, 51 26" fill="url(#ear2)" opacity=".95" />
                  <path d="M86 20 C96 8, 86 2, 78 10 C74 14, 73 20, 75 26" fill="url(#ear2)" opacity=".95" />
                  <ellipse cx="63" cy="86" rx="44" ry="34" fill="url(#fur2)" />
                  <circle cx="63" cy="58" r="34" fill="url(#fur2)" />
                  <path d="M48 56 C54 52, 58 52, 61 56" fill="none" stroke="#231f20" stroke-width="3.4" stroke-linecap="round" />
                  <path d="M78 56 C72 52, 68 52, 65 56" fill="none" stroke="#231f20" stroke-width="3.4" stroke-linecap="round" />
                  <path d="M63 62 C60 62, 58 65, 63 67 C68 65, 66 62, 63 62 Z" fill="#ff79b0" />
                  <path d="M56 74 C58 82, 68 82, 70 74" fill="none" stroke="#231f20" stroke-width="3.6" stroke-linecap="round" />
                </g>
              </g>
            </g>
          </g>

          <!-- Right: two bunnies, one pointing at fireworks -->
          <g transform="translate(850 132) scale(.92)">
            <g class="bunnyFloat">
              <!-- Bunny C -->
              <g transform="translate(0 10)">
                <g class="bunnyBreathe">
                  <path d="M34 22 C16 4, 34 -6, 50 6 C57 12, 60 20, 58 32" fill="url(#fur2)" />
                  <path d="M92 22 C110 4, 92 -6, 76 6 C69 12, 66 20, 68 32" fill="url(#fur2)" />
                  <path d="M40 20 C30 8, 40 2, 48 10 C52 14, 53 20, 51 26" fill="url(#ear2)" opacity=".95" />
                  <path d="M86 20 C96 8, 86 2, 78 10 C74 14, 73 20, 75 26" fill="url(#ear2)" opacity=".95" />
                  <ellipse cx="63" cy="86" rx="44" ry="34" fill="url(#fur2)" />
                  <circle cx="63" cy="58" r="34" fill="url(#fur2)" />
                  <circle class="blink" cx="52" cy="56" r="5.5" fill="#231f20" />
                  <circle class="blink" cx="74" cy="56" r="5.5" fill="#231f20" />
                  <circle cx="42" cy="70" r="8" fill="#ff79b0" opacity=".22" />
                  <circle cx="84" cy="70" r="8" fill="#ff79b0" opacity=".22" />
                  <path d="M63 62 C60 62, 58 65, 63 67 C68 65, 66 62, 63 62 Z" fill="#ff79b0" />
                  <path d="M56 74 C58 82, 68 82, 70 74" fill="none" stroke="#231f20" stroke-width="3.6" stroke-linecap="round" />
                </g>
              </g>

              <!-- Bunny D (pointing) -->
              <g transform="translate(84 -4) rotate(-6)">
                <g class="bunnyBreathe">
                  <path d="M34 22 C16 4, 34 -6, 50 6 C57 12, 60 20, 58 32" fill="url(#fur2)" />
                  <path d="M92 22 C110 4, 92 -6, 76 6 C69 12, 66 20, 68 32" fill="url(#fur2)" />
                  <path d="M40 20 C30 8, 40 2, 48 10 C52 14, 53 20, 51 26" fill="url(#ear2)" opacity=".95" />
                  <path d="M86 20 C96 8, 86 2, 78 10 C74 14, 73 20, 75 26" fill="url(#ear2)" opacity=".95" />
                  <ellipse cx="63" cy="86" rx="44" ry="34" fill="url(#fur2)" />
                  <circle cx="63" cy="58" r="34" fill="url(#fur2)" />
                  <path d="M48 56 C54 52, 58 52, 61 56" fill="none" stroke="#231f20" stroke-width="3.4" stroke-linecap="round" />
                  <circle class="blink" cx="74" cy="56" r="5.5" fill="#231f20" />
                  <path d="M63 62 C60 62, 58 65, 63 67 C68 65, 66 62, 63 62 Z" fill="#ff79b0" />
                  <path d="M56 74 C58 82, 68 82, 70 74" fill="none" stroke="#231f20" stroke-width="3.6" stroke-linecap="round" />
                  <path class="armWave" d="M80 98 C108 82, 136 66, 164 44" fill="none" stroke="rgba(255,255,255,.72)" stroke-width="7" stroke-linecap="round" />
                  <path class="armWave" d="M80 98 C108 82, 136 66, 164 44" fill="none" stroke="rgba(0,0,0,.20)" stroke-width="3" stroke-linecap="round" opacity=".55" />
                </g>
              </g>
            </g>
          </g>
        </g>

        <!-- kept minimal to avoid visual clutter -->
      </svg>
    </div>

    <canvas id="fx" class="fx" aria-hidden="true"></canvas>
    <div id="danmuLayer" class="danmuLayer" aria-hidden="true"></div>
    <div id="toast" class="toast" role="status" aria-live="polite"></div>

    <script src="./app.js" defer></script>
  </body>
</html>
